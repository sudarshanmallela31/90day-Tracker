<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>90-Day MNC Data Analyst Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#06090f;--surface:#0c1018;--card:#111827;--card2:#131d2e;
  --border:#1a2535;--border2:#1e2d40;
  --blue:#3b82f6;--blue-dim:rgba(59,130,246,.12);
  --green:#22c55e;--green-dim:rgba(34,197,94,.12);
  --purple:#a855f7;--purple-dim:rgba(168,85,247,.12);
  --orange:#f97316;--yellow:#eab308;--red:#ef4444;--pink:#ec4899;
  --text:#f1f5f9;--dim:#8b9ab0;--muted:#3d4f63;
  --p1:#3b82f6;--p2:#22c55e;--p3:#a855f7;
  --r:12px;--r2:8px;
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Outfit',system-ui,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden}
body::after{content:'';position:fixed;inset:0;background:radial-gradient(ellipse 80% 50% at 10% 20%,rgba(59,130,246,.07),transparent),radial-gradient(ellipse 60% 40% at 90% 80%,rgba(168,85,247,.07),transparent);pointer-events:none;z-index:0}
.app{position:relative;z-index:1}

/* ‚îÄ‚îÄ WATERMARK ‚îÄ‚îÄ */
.watermark{
  position:fixed;bottom:18px;left:50%;transform:translateX(-50%);
  font-size:11px;letter-spacing:1.5px;color:rgba(139,154,176,.35);
  font-family:'JetBrains Mono',monospace;font-weight:500;
  pointer-events:none;z-index:9999;white-space:nowrap;
  text-transform:uppercase;
}
.watermark span{color:rgba(59,130,246,.5)}

/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
header{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 28px;border-bottom:1px solid var(--border);
  background:rgba(6,9,15,.85);backdrop-filter:blur(24px);
  position:sticky;top:0;z-index:200;
}
.logo{display:flex;align-items:center;gap:10px}
.logo-icon{width:34px;height:34px;background:linear-gradient(135deg,var(--blue),var(--purple));border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:17px}
.logo-name{font-weight:800;font-size:17px;letter-spacing:-.5px}
.logo-name em{color:var(--blue);font-style:normal}
.header-pills{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.pill{display:flex;align-items:center;gap:5px;padding:5px 13px;border-radius:100px;font-size:12px;font-weight:600;border:1px solid}
.pill-fire{background:rgba(249,115,22,.1);border-color:rgba(249,115,22,.3);color:var(--orange)}
.pill-date{background:rgba(59,130,246,.08);border-color:rgba(59,130,246,.2);color:var(--blue);font-family:'JetBrains Mono',monospace;font-size:11px}
.pill-weekend{background:rgba(239,68,68,.1);border-color:rgba(239,68,68,.3);color:var(--red);display:none}

/* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
nav{display:flex;gap:2px;background:var(--surface);border-bottom:1px solid var(--border);padding:0 28px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none}nav::-webkit-scrollbar{display:none}
.nav-btn{padding:13px 18px;font-size:13px;font-weight:600;color:var(--dim);border:none;background:transparent;cursor:pointer;font-family:'Outfit',system-ui,sans-serif;border-bottom:2px solid transparent;transition:.2s;white-space:nowrap}
.nav-btn:hover{color:var(--text)}
.nav-btn.active{color:var(--blue);border-bottom-color:var(--blue)}

/* ‚îÄ‚îÄ PAGES ‚îÄ‚îÄ */
.page{display:none;padding:28px;max-width:1200px;margin:0 auto;animation:fadeIn .3s ease}
.page.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

/* ‚îÄ‚îÄ SECTION HEADING ‚îÄ‚îÄ */
.sec-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
.sec-title{font-size:18px;font-weight:800;letter-spacing:-.5px}
.sec-sub{font-size:12px;color:var(--dim);margin-top:2px}
.badge{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:100px;font-size:11px;font-weight:700;letter-spacing:.5px}
.badge-blue{background:var(--blue-dim);color:var(--blue);border:1px solid rgba(59,130,246,.2)}
.badge-green{background:var(--green-dim);color:var(--green);border:1px solid rgba(34,197,94,.2)}

/* ‚îÄ‚îÄ GRID ‚îÄ‚îÄ */
.grid-4{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:24px}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-bottom:24px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:24px}
@media(max-width:900px){.grid-4{grid-template-columns:repeat(2,1fr)}.grid-3{grid-template-columns:1fr 1fr}}
@media(max-width:580px){.grid-4,.grid-3,.grid-2{grid-template-columns:1fr}}

/* ‚îÄ‚îÄ KPI CARD ‚îÄ‚îÄ */
.kpi{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:18px 20px;position:relative;overflow:hidden;transition:.2s}
.kpi::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;border-radius:2px 2px 0 0}
.kpi.k-blue::before{background:var(--blue)}.kpi.k-green::before{background:var(--green)}.kpi.k-purple::before{background:var(--purple)}.kpi.k-orange::before{background:var(--orange)}.kpi.k-red::before{background:var(--red)}.kpi.k-yellow::before{background:var(--yellow)}
.kpi:hover{border-color:var(--border2);transform:translateY(-2px)}
.kpi-label{font-size:10px;font-weight:700;letter-spacing:1.2px;text-transform:uppercase;color:var(--muted);margin-bottom:10px}
.kpi-val{font-size:34px;font-weight:900;line-height:1;letter-spacing:-1px;margin-bottom:4px}
.kpi.k-blue .kpi-val{color:var(--blue)}.kpi.k-green .kpi-val{color:var(--green)}.kpi.k-purple .kpi-val{color:var(--purple)}.kpi.k-orange .kpi-val{color:var(--orange)}.kpi.k-red .kpi-val{color:var(--red)}.kpi.k-yellow .kpi-val{color:var(--yellow)}
.kpi-sub{font-size:11px;color:var(--muted)}
.kpi-icon{position:absolute;right:16px;top:16px;font-size:28px;opacity:.15}

/* ‚îÄ‚îÄ CARD BASE ‚îÄ‚îÄ */
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:20px}
.card-title{font-size:14px;font-weight:700;margin-bottom:16px;display:flex;align-items:center;gap:8px}

/* ‚îÄ‚îÄ TODAY CARD ‚îÄ‚îÄ */
.today-card{
  background:linear-gradient(135deg,rgba(59,130,246,.09),rgba(168,85,247,.07));
  border:1px solid rgba(59,130,246,.25);border-radius:var(--r);padding:24px;
  margin-bottom:24px;position:relative;overflow:hidden
}
.today-card::before{content:'';position:absolute;right:-80px;top:-80px;width:240px;height:240px;background:radial-gradient(circle,rgba(59,130,246,.12),transparent);border-radius:50%;pointer-events:none}
.today-tag{font-size:10px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--blue);margin-bottom:10px;display:flex;align-items:center;gap:6px}
.today-topic{font-size:20px;font-weight:800;line-height:1.3;margin-bottom:14px;letter-spacing:-.3px}
.today-chips{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:18px}
.chip{display:flex;align-items:center;gap:5px;background:rgba(255,255,255,.05);border:1px solid var(--border);padding:5px 11px;border-radius:100px;font-size:11px;color:var(--dim)}
.today-actions{display:flex;gap:10px;flex-wrap:wrap}
.btn{display:inline-flex;align-items:center;gap:7px;padding:10px 22px;border-radius:var(--r2);font-family:'Outfit',system-ui,sans-serif;font-size:13px;font-weight:700;cursor:pointer;border:none;transition:.2s;text-decoration:none}
.btn-green{background:var(--green);color:#000}.btn-green:hover{background:#4ade80;box-shadow:0 6px 20px rgba(34,197,94,.35);transform:translateY(-1px)}
.btn-blue{background:var(--blue);color:#fff}.btn-blue:hover{background:#60a5fa;transform:translateY(-1px)}
.btn-ghost{background:transparent;color:var(--dim);border:1px solid var(--border)}.btn-ghost:hover{color:var(--text);border-color:var(--border2)}
.btn-purple{background:var(--purple);color:#fff}.btn-purple:hover{transform:translateY(-1px)}
.btn.done-state{background:var(--border);color:var(--muted);cursor:not-allowed;transform:none!important;box-shadow:none!important}
.weekend-badge{display:inline-flex;align-items:center;gap:5px;background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.25);color:var(--red);padding:6px 14px;border-radius:100px;font-size:12px;font-weight:700}

/* ‚îÄ‚îÄ PROGRESS BARS ‚îÄ‚îÄ */
.prog-section{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:20px;margin-bottom:24px}
.prog-row{margin-bottom:16px}
.prog-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:13px}
.prog-label{font-weight:600}
.prog-count{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--dim)}
.track{height:7px;background:var(--border);border-radius:100px;overflow:hidden}
.fill{height:100%;border-radius:100px;transition:width 1.2s cubic-bezier(.4,0,.2,1);width:0}
.fill-blue{background:linear-gradient(90deg,var(--blue),#60a5fa)}
.fill-green{background:linear-gradient(90deg,var(--green),#4ade80)}
.fill-purple{background:linear-gradient(90deg,var(--purple),#c084fc)}

/* ‚îÄ‚îÄ PIE CHARTS ‚îÄ‚îÄ */
.pie-wrap{display:flex;align-items:center;justify-content:center;gap:24px;flex-wrap:wrap}
.pie-container{position:relative;display:flex;align-items:center;justify-content:center}
canvas.pie-canvas{border-radius:50%}
.pie-center-text{position:absolute;text-align:center;pointer-events:none}
.pie-center-val{font-size:22px;font-weight:900;line-height:1}
.pie-center-sub{font-size:10px;color:var(--dim);margin-top:2px}
.pie-legend{display:flex;flex-direction:column;gap:8px}
.pie-legend-item{display:flex;align-items:center;gap:8px;font-size:12px}
.pie-legend-dot{width:10px;height:10px;border-radius:3px;flex-shrink:0}

/* ‚îÄ‚îÄ HEATMAP ‚îÄ‚îÄ */
.hm-wrap{overflow-x:auto;padding-bottom:8px}
.hm-table{border-collapse:separate;border-spacing:3px;min-width:600px}
.hm-week-lbl{font-size:9px;font-family:'JetBrains Mono',monospace;color:var(--muted);text-align:center;padding:2px 4px}
.hm-cell{width:28px;height:28px;border-radius:5px;cursor:pointer;transition:.15s;position:relative;vertical-align:middle}
.hm-cell:hover{transform:scale(1.3);z-index:10}
.hm-pending{background:rgba(255,255,255,.04);border:1px solid var(--border)}
.hm-weekend{background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.15)}
.hm-done-p1{background:var(--p1);box-shadow:0 0 8px rgba(59,130,246,.5)}
.hm-done-p2{background:var(--p2);box-shadow:0 0 8px rgba(34,197,94,.5)}
.hm-done-p3{background:var(--p3);box-shadow:0 0 8px rgba(168,85,247,.5)}
.hm-today{outline:2px solid #fff;outline-offset:2px}
.hm-cell .tip{
  position:fixed;bottom:auto;top:auto;left:auto;transform:none;
  background:#1e293b;border:1px solid var(--border2);border-radius:8px;
  padding:8px 12px;font-size:11px;white-space:normal;min-width:170px;max-width:220px;
  pointer-events:none;opacity:0;transition:.15s;z-index:9999;text-align:left;
  display:none;
}
.hm-cell:hover .tip{opacity:1;display:block;}

.tip-d{font-weight:700;margin-bottom:3px}
.tip-t{color:var(--dim);line-height:1.4;font-size:10px;margin-bottom:3px}
.tip-s{font-size:10px}
.tip-done{color:var(--green)}.tip-pend{color:var(--muted)}.tip-wknd{color:var(--red)}

/* ‚îÄ‚îÄ FILTER PILLS ‚îÄ‚îÄ */
.filters{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px}
.fp{padding:5px 14px;border-radius:100px;font-size:12px;font-weight:600;cursor:pointer;border:1px solid var(--border);background:transparent;color:var(--dim);font-family:'Outfit',system-ui,sans-serif;transition:.15s}
.fp:hover{color:var(--text)}.fp.fp-on{background:var(--blue-dim);border-color:rgba(59,130,246,.4);color:var(--blue)}

/* ‚îÄ‚îÄ DAY LIST ‚îÄ‚îÄ */
.day-list{display:flex;flex-direction:column;gap:6px}
.week-sep{display:flex;align-items:center;gap:10px;margin:14px 0 8px;opacity:.5}
.ws-line{flex:1;height:1px;background:var(--border)}
.ws-lbl{font-size:10px;font-family:'JetBrains Mono',monospace;color:var(--muted)}
.day-row{
  background:var(--card);border:1px solid var(--border);border-radius:var(--r2);
  padding:12px 16px;display:flex;align-items:center;gap:12px;
  transition:.15s;cursor:pointer
}
.day-row:hover{border-color:var(--border2);transform:translateX(3px)}
.day-row.dr-done{opacity:.55}.day-row.dr-done .dr-topic{text-decoration:line-through;color:var(--muted)}
.day-row.dr-today{border-color:rgba(59,130,246,.4);background:rgba(59,130,246,.04)}
.day-row.dr-weekend{border-color:rgba(239,68,68,.2);background:rgba(239,68,68,.03)}
.dr-num{font-family:'JetBrains Mono',monospace;font-size:18px;font-weight:600;color:var(--muted);min-width:36px;text-align:right}
.dr-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}
.dr-info{flex:1;min-width:0}
.dr-topic{font-size:13px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.dr-meta{font-size:11px;color:var(--muted);margin-top:2px;font-family:'JetBrains Mono',monospace}
.dr-check{width:26px;height:26px;border-radius:6px;border:2px solid var(--border2);display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:.2s;font-size:12px;background:transparent;cursor:pointer}
.day-row.dr-done .dr-check{background:var(--green);border-color:var(--green);color:#000}
.dr-wknd-tag{font-size:9px;font-weight:700;color:var(--red);background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.2);padding:2px 7px;border-radius:100px;flex-shrink:0}

/* ‚îÄ‚îÄ QUIZ ‚îÄ‚îÄ */
.quiz-card{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:24px;margin-bottom:16px}
.quiz-phase-select{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:20px}
.qps-btn{padding:8px 18px;border-radius:100px;font-size:12px;font-weight:700;cursor:pointer;border:1px solid var(--border);background:transparent;color:var(--dim);font-family:'Outfit',system-ui,sans-serif;transition:.15s}
.qps-btn.qps-on{background:var(--blue-dim);border-color:rgba(59,130,246,.4);color:var(--blue)}
.q-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
.q-num{font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--dim)}
.q-score{font-family:'JetBrains Mono',monospace;font-size:13px;color:var(--green)}
.q-text{font-size:17px;font-weight:700;line-height:1.4;margin-bottom:20px;letter-spacing:-.2px}
.q-options{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}
.q-opt{
  padding:12px 16px;border-radius:var(--r2);border:1px solid var(--border);
  cursor:pointer;transition:.15s;font-size:13px;font-weight:500;background:transparent;
  text-align:left;font-family:'Outfit',system-ui,sans-serif;color:var(--text)
}
.q-opt:hover:not(.q-locked){background:var(--blue-dim);border-color:rgba(59,130,246,.3)}
.q-opt.q-correct{background:var(--green-dim);border-color:var(--green);color:var(--green)}
.q-opt.q-wrong{background:rgba(239,68,68,.12);border-color:var(--red);color:var(--red)}
.q-opt.q-reveal{background:var(--green-dim);border-color:var(--green);color:var(--green)}
.q-locked{cursor:default}
.q-explain{background:rgba(59,130,246,.07);border:1px solid rgba(59,130,246,.2);border-radius:var(--r2);padding:12px 14px;font-size:12px;color:var(--dim);line-height:1.6;margin-bottom:14px}
.q-footer{display:flex;justify-content:space-between;align-items:center}
.q-result-msg{font-size:13px;font-weight:700}
.q-result-msg.correct{color:var(--green)}.q-result-msg.wrong{color:var(--red)}
.q-progress{height:4px;background:var(--border);border-radius:100px;overflow:hidden;margin-bottom:16px}
.q-progress-fill{height:100%;background:var(--blue);border-radius:100px;transition:.3s}
.quiz-summary{text-align:center;padding:32px;display:none}
.qs-score{font-size:56px;font-weight:900;color:var(--green);letter-spacing:-2px;margin-bottom:8px}
.qs-label{font-size:16px;color:var(--dim);margin-bottom:24px}

/* ‚îÄ‚îÄ CHATBOT ‚îÄ‚îÄ */
.chat-wrap{display:flex;flex-direction:column;height:calc(100vh - 220px);min-height:500px}
.chat-messages{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:12px;background:var(--surface);border-radius:var(--r) var(--r) 0 0;border:1px solid var(--border);border-bottom:none}
.chat-messages::-webkit-scrollbar{width:4px}.chat-messages::-webkit-scrollbar-track{background:transparent}.chat-messages::-webkit-scrollbar-thumb{background:var(--border2);border-radius:4px}
.msg{display:flex;gap:10px;align-items:flex-start;animation:msgIn .25s ease}
@keyframes msgIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.msg.user{flex-direction:row-reverse}
.msg-avatar{width:30px;height:30px;border-radius:8px;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:15px}
.msg-avatar.bot-av{background:linear-gradient(135deg,var(--blue),var(--purple))}
.msg-avatar.user-av{background:var(--border2);font-size:13px;font-weight:700;color:var(--dim)}
.msg-bubble{max-width:75%;padding:10px 14px;border-radius:12px;font-size:13px;line-height:1.6}
.msg.bot .msg-bubble{background:var(--card2);border:1px solid var(--border);border-radius:4px 12px 12px 12px}
.msg.user .msg-bubble{background:var(--blue);color:#fff;border-radius:12px 4px 12px 12px}
.msg-bubble strong{font-weight:700}
.msg-bubble .tag{display:inline-block;background:rgba(59,130,246,.15);color:var(--blue);padding:1px 7px;border-radius:4px;font-size:11px;font-family:'JetBrains Mono',monospace}
.typing-dot{display:inline-flex;gap:3px;padding:8px 12px}
.typing-dot span{width:6px;height:6px;border-radius:50%;background:var(--dim);animation:blink 1.2s infinite}
.typing-dot span:nth-child(2){animation-delay:.2s}.typing-dot span:nth-child(3){animation-delay:.4s}
@keyframes blink{0%,100%{opacity:.3}50%{opacity:1}}
.chat-quick{display:flex;gap:6px;flex-wrap:wrap;padding:10px 16px;background:var(--card);border:1px solid var(--border);border-top:none;border-bottom:none}
.qc-btn{padding:5px 12px;border-radius:100px;font-size:11px;font-weight:600;background:var(--blue-dim);border:1px solid rgba(59,130,246,.25);color:var(--blue);cursor:pointer;font-family:'Outfit',system-ui,sans-serif;transition:.15s}
.qc-btn:hover{background:rgba(59,130,246,.2)}
.chat-input-wrap{display:flex;gap:8px;padding:12px 16px;background:var(--card);border:1px solid var(--border);border-top:1px solid var(--border2);border-radius:0 0 var(--r) var(--r)}
.chat-input{flex:1;background:var(--surface);border:1px solid var(--border2);border-radius:var(--r2);padding:10px 14px;font-family:'Outfit',system-ui,sans-serif;font-size:13px;color:var(--text);outline:none;transition:.15s}
.chat-input:focus{border-color:rgba(59,130,246,.4)}
.chat-send{background:var(--blue);color:#fff;border:none;border-radius:var(--r2);padding:10px 18px;font-family:'Outfit',system-ui,sans-serif;font-size:13px;font-weight:700;cursor:pointer;transition:.15s;flex-shrink:0}
.chat-send:hover{background:#60a5fa}

/* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
.toast{position:fixed;bottom:52px;right:20px;background:#1e293b;border:1px solid var(--border2);border-radius:12px;padding:14px 18px;z-index:9999;display:flex;align-items:center;gap:10px;transform:translateY(80px);opacity:0;transition:.3s cubic-bezier(.34,1.56,.64,1);max-width:300px;box-shadow:0 20px 40px rgba(0,0,0,.5)}
.toast.show{transform:translateY(0);opacity:1}
.toast.t-green{border-color:rgba(34,197,94,.3)}
.t-icon{font-size:18px}.t-body .t-title{font-size:13px;font-weight:700}.t-body .t-sub{font-size:11px;color:var(--muted);margin-top:1px}

/* ‚îÄ‚îÄ CONFETTI ‚îÄ‚îÄ */
.cf{position:fixed;top:-10px;width:7px;height:12px;border-radius:2px;animation:cfFall 3s ease-in forwards;z-index:99999;pointer-events:none}
@keyframes cfFall{to{transform:translateY(110vh) rotate(720deg);opacity:0}}

/* ‚îÄ‚îÄ MOTIVATION BOX ‚îÄ‚îÄ */
.quote-box{background:linear-gradient(135deg,rgba(168,85,247,.08),rgba(59,130,246,.06));border:1px solid rgba(168,85,247,.2);border-radius:var(--r);padding:18px 22px;margin-bottom:24px;display:flex;align-items:center;gap:14px}
.quote-icon{font-size:28px;flex-shrink:0}
.quote-text{font-size:15px;font-weight:600;color:var(--text);font-style:italic;line-height:1.5}
.quote-by{font-size:11px;color:var(--muted);margin-top:4px}

/* ‚îÄ‚îÄ CALENDAR MINI ‚îÄ‚îÄ */
.mini-cal{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:18px}
.mc-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
.mc-title{font-size:13px;font-weight:700}
.mc-nav{background:transparent;border:1px solid var(--border);color:var(--dim);width:26px;height:26px;border-radius:6px;cursor:pointer;font-size:13px;display:flex;align-items:center;justify-content:center}
.mc-days-head{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;margin-bottom:4px;text-align:center}
.mc-day-h{font-size:9px;font-weight:700;color:var(--muted);padding:3px}
.mc-days{display:grid;grid-template-columns:repeat(7,1fr);gap:2px}
.mc-day{font-size:10px;padding:5px 2px;text-align:center;border-radius:5px;cursor:pointer;position:relative;font-family:'JetBrains Mono',monospace;color:var(--muted)}
.mc-day.mc-in-plan{color:var(--text)}.mc-day.mc-done{background:var(--green-dim);color:var(--green);font-weight:700}
.mc-day.mc-today{outline:2px solid var(--blue);color:var(--blue);font-weight:700}
.mc-day.mc-weekend{color:rgba(239,68,68,.5)}.mc-day.mc-weekend.mc-in-plan{color:var(--red)}

/* ‚îÄ‚îÄ SCROLLBAR ‚îÄ‚îÄ */
::-webkit-scrollbar{width:5px;height:5px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border2);border-radius:4px}
</style>
</head>
<body>
<div class="app">

<!-- WATERMARK -->
<div class="watermark">designed by <span>Sudarshan Mallela</span></div>

<!-- HEADER -->
<header>
  <div class="logo">
    <div class="logo-icon">üéØ</div>
    <div class="logo-name">MNC<em>Tracker</em></div>
  </div>
  <div class="header-pills">
    <div class="pill pill-fire">üî• <span id="hStreak">0</span> day streak</div>
    <div class="pill pill-date" id="hDate"></div>
    <div class="pill pill-weekend" id="hWeekend">üèñÔ∏è Weekend</div>
  </div>
</header>

<!-- NAV -->
<nav>
  <button class="nav-btn active" onclick="goPage('dashboard',this)">üìä Dashboard</button>
  <button class="nav-btn" onclick="goPage('plan',this)">üìÖ Day Plan</button>
  <button class="nav-btn" onclick="goPage('quiz',this)">üß† Quiz & Q&A</button>
  <button class="nav-btn" onclick="goPage('chatbot',this)">ü§ñ AI Mentor</button>
</nav>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DASHBOARD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page active" id="page-dashboard">

  <!-- Quote -->
  <div class="quote-box" id="quoteBox">
    <div class="quote-icon">üí°</div>
    <div>
      <div class="quote-text" id="quoteText">Loading...</div>
      <div class="quote-by">‚Äî Daily Motivation</div>
    </div>
  </div>

  <!-- Today Card -->
  <div class="today-card" id="todayCard">
    <div class="today-tag">üìå TODAY'S TASK</div>
    <div class="today-topic" id="todayTopic">Loading...</div>
    <div class="today-chips" id="todayChips"></div>
    <div class="today-actions" id="todayActions"></div>
  </div>

  <!-- KPIs -->
  <div class="grid-4">
    <div class="kpi k-green"><div class="kpi-icon">‚úÖ</div><div class="kpi-label">Days Done</div><div class="kpi-val" id="kDone">0</div><div class="kpi-sub">of 90 days</div></div>
    <div class="kpi k-blue"><div class="kpi-icon">‚è≥</div><div class="kpi-label">Remaining</div><div class="kpi-val" id="kLeft">90</div><div class="kpi-sub">days to go</div></div>
    <div class="kpi k-orange"><div class="kpi-icon">üî•</div><div class="kpi-label">Streak</div><div class="kpi-val" id="kStreak">0</div><div class="kpi-sub">consecutive</div></div>
    <div class="kpi k-purple"><div class="kpi-icon">üìà</div><div class="kpi-label">Progress</div><div class="kpi-val" id="kPct">0%</div><div class="kpi-sub">overall</div></div>
  </div>

  <!-- Progress bars + Pie charts -->
  <div class="grid-2">
    <div class="prog-section" style="margin-bottom:0">
      <div class="card-title">üìä Phase Progress</div>
      <div class="prog-row">
        <div class="prog-head"><span class="prog-label" style="color:var(--p1)">‚ö° Phase 1 ¬∑ SQL + Excel</span><span class="prog-count" id="pb1c">0/30</span></div>
        <div class="track"><div class="fill fill-blue" id="pb1"></div></div>
      </div>
      <div class="prog-row">
        <div class="prog-head"><span class="prog-label" style="color:var(--p2)">üêç Phase 2 ¬∑ Python</span><span class="prog-count" id="pb2c">0/30</span></div>
        <div class="track"><div class="fill fill-green" id="pb2"></div></div>
      </div>
      <div class="prog-row" style="margin-bottom:0">
        <div class="prog-head"><span class="prog-label" style="color:var(--p3)">üìä Phase 3 ¬∑ Power BI</span><span class="prog-count" id="pb3c">0/30</span></div>
        <div class="track"><div class="fill fill-purple" id="pb3"></div></div>
      </div>
    </div>

    <div class="card" style="margin-bottom:0">
      <div class="card-title">ü•ß Completion Breakdown</div>
      <div class="pie-wrap">
        <div class="pie-container">
          <canvas class="pie-canvas" id="pieChart" width="140" height="140"></canvas>
          <div class="pie-center-text">
            <div class="pie-center-val" id="pieCenterVal">0</div>
            <div class="pie-center-sub">done</div>
          </div>
        </div>
        <div class="pie-legend">
          <div class="pie-legend-item"><div class="pie-legend-dot" style="background:var(--p1)"></div><span id="pLegend1">Phase 1: 0/30</span></div>
          <div class="pie-legend-item"><div class="pie-legend-dot" style="background:var(--p2)"></div><span id="pLegend2">Phase 2: 0/30</span></div>
          <div class="pie-legend-item"><div class="pie-legend-dot" style="background:var(--p3)"></div><span id="pLegend3">Phase 3: 0/30</span></div>
          <div class="pie-legend-item"><div class="pie-legend-dot" style="background:var(--muted)"></div><span id="pLegend4">Remaining: 90</span></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Heatmap -->
  <div class="card" style="margin-top:16px">
    <div class="card-title">üìÜ 90-Day Heatmap <span style="font-size:11px;color:var(--muted);font-weight:400">‚Äî click any cell to toggle</span></div>
    <div class="hm-wrap"><table class="hm-table" id="hmTable"></table></div>
    <div style="display:flex;gap:16px;flex-wrap:wrap;margin-top:12px">
      <div style="display:flex;align-items:center;gap:6px;font-size:11px;color:var(--muted)"><div style="width:10px;height:10px;border-radius:3px;background:var(--p1)"></div>Phase 1 Done</div>
      <div style="display:flex;align-items:center;gap:6px;font-size:11px;color:var(--muted)"><div style="width:10px;height:10px;border-radius:3px;background:var(--p2)"></div>Phase 2 Done</div>
      <div style="display:flex;align-items:center;gap:6px;font-size:11px;color:var(--muted)"><div style="width:10px;height:10px;border-radius:3px;background:var(--p3)"></div>Phase 3 Done</div>
      <div style="display:flex;align-items:center;gap:6px;font-size:11px;color:var(--muted)"><div style="width:10px;height:10px;border-radius:3px;background:rgba(239,68,68,.15);border:1px solid rgba(239,68,68,.3)"></div>Weekend</div>
      <div style="display:flex;align-items:center;gap:6px;font-size:11px;color:var(--muted)"><div style="width:10px;height:10px;border-radius:3px;background:rgba(255,255,255,.04);border:1px solid var(--border)"></div>Pending</div>
    </div>
  </div>

  <!-- Mini Calendar + Stats -->
  <div class="grid-2" style="margin-top:16px">
    <div class="mini-cal">
      <div class="mc-header">
        <button class="mc-nav" onclick="calPrev()">‚Äπ</button>
        <div class="mc-title" id="calTitle"></div>
        <button class="mc-nav" onclick="calNext()">‚Ä∫</button>
      </div>
      <div class="mc-days-head">
        <div class="mc-day-h">S</div><div class="mc-day-h">M</div><div class="mc-day-h">T</div>
        <div class="mc-day-h">W</div><div class="mc-day-h">T</div><div class="mc-day-h">F</div><div class="mc-day-h">S</div>
      </div>
      <div class="mc-days" id="calDays"></div>
    </div>

    <div class="card" style="margin-bottom:0">
      <div class="card-title">üèÜ Weekly Donut</div>
      <div style="display:flex;align-items:center;justify-content:center;gap:20px">
        <div class="pie-container">
          <canvas id="weeklyPie" width="120" height="120"></canvas>
          <div class="pie-center-text">
            <div class="pie-center-val" id="wPieVal" style="font-size:18px">0</div>
            <div class="pie-center-sub">this week</div>
          </div>
        </div>
        <div style="font-size:12px;color:var(--dim)">
          <div style="margin-bottom:8px">Week <span id="wPieWeek" style="color:var(--text);font-weight:700">-</span></div>
          <div style="color:var(--green);font-weight:700" id="wPieDone">0 done</div>
          <div style="color:var(--muted)" id="wPieLeft">5 pending</div>
          <div style="margin-top:8px;font-size:11px" id="wPiePct">0% weekly</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DAY PLAN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-plan">
  <div class="sec-head">
    <div><div class="sec-title">üìÖ Full 90-Day Plan</div><div class="sec-sub">Click any row to mark done/pending</div></div>
    <div class="badge badge-blue" id="planBadge">0/90</div>
  </div>
  <div class="filters">
    <button class="fp fp-on" onclick="setFilter('all',this)">All Days</button>
    <button class="fp" onclick="setFilter('p1',this)">‚ö° Phase 1</button>
    <button class="fp" onclick="setFilter('p2',this)">üêç Phase 2</button>
    <button class="fp" onclick="setFilter('p3',this)">üìä Phase 3</button>
    <button class="fp" onclick="setFilter('done',this)">‚úÖ Done</button>
    <button class="fp" onclick="setFilter('pending',this)">‚è≥ Pending</button>
    <button class="fp" onclick="setFilter('weekdays',this)">üìÜ Weekdays</button>
    <button class="fp" onclick="setFilter('weekends',this)">üèñÔ∏è Weekends</button>
  </div>
  <div class="day-list" id="dayList"></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê QUIZ ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-quiz">
  <div class="sec-head">
    <div><div class="sec-title">üß† Daily Quiz & Q&A</div><div class="sec-sub">Test your knowledge ¬∑ <span id="quizScoreDisplay">Score: 0</span></div></div>
  </div>

  <div class="quiz-phase-select">
    <button class="qps-btn qps-on" onclick="setQuizPhase('all',this)">All Topics</button>
    <button class="qps-btn" onclick="setQuizPhase('p1',this)">‚ö° SQL + Excel</button>
    <button class="qps-btn" onclick="setQuizPhase('p2',this)">üêç Python</button>
    <button class="qps-btn" onclick="setQuizPhase('p3',this)">üìä Power BI</button>
  </div>

  <div class="quiz-card" id="quizCard">
    <div class="q-progress"><div class="q-progress-fill" id="qProgFill"></div></div>
    <div class="q-header">
      <div class="q-num" id="qNum">Question 1 of 10</div>
      <div class="q-score" id="qScore">‚úì 0 correct</div>
    </div>
    <div class="q-text" id="qText"></div>
    <div class="q-options" id="qOpts"></div>
    <div class="q-explain" id="qExplain" style="display:none"></div>
    <div class="q-footer">
      <div class="q-result-msg" id="qMsg"></div>
      <button class="btn btn-blue" id="qNextBtn" onclick="nextQuestion()" style="display:none">Next ‚Üí</button>
    </div>
  </div>

  <div class="quiz-summary" id="quizSummary" style="display:none">
    <div class="qs-score" id="qsFinalScore"></div>
    <div class="qs-label" id="qsLabel"></div>
    <button class="btn btn-blue" onclick="restartQuiz()">üîÑ Try Again</button>
  </div>

  <!-- Q&A Section -->
  <div class="card" style="margin-top:24px">
    <div class="card-title">üí¨ Interview Q&A Bank</div>
    <div class="quiz-phase-select" id="qaBtnGroup" style="margin-bottom:16px">
      <button class="qps-btn qps-on" onclick="setQAPhase('all',this)">All</button>
      <button class="qps-btn" onclick="setQAPhase('p1',this)">SQL</button>
      <button class="qps-btn" onclick="setQAPhase('p2',this)">Python</button>
      <button class="qps-btn" onclick="setQAPhase('p3',this)">Power BI</button>
    </div>
    <div id="qaList" style="display:flex;flex-direction:column;gap:8px"></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CHATBOT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-chatbot">
  <div class="sec-head">
    <div><div class="sec-title">ü§ñ AI Mentor ‚Äî Sudarshan's Guide</div><div class="sec-sub">Your personalized study companion</div></div>
  </div>
  <div class="chat-wrap">
    <div class="chat-messages" id="chatMsgs"></div>
    <div class="chat-quick">
      <button class="qc-btn" onclick="quickMsg(this)">What should I study today?</button>
      <button class="qc-btn" onclick="quickMsg(this)">Give me SQL tips</button>
      <button class="qc-btn" onclick="quickMsg(this)">How's my progress?</button>
      <button class="qc-btn" onclick="quickMsg(this)">Motivate me!</button>
      <button class="qc-btn" onclick="quickMsg(this)">Python interview tips</button>
      <button class="qc-btn" onclick="quickMsg(this)">Power BI best practices</button>
    </div>
    <div class="chat-input-wrap">
      <input class="chat-input" id="chatInput" placeholder="Ask your AI mentor anything..." onkeydown="if(event.key==='Enter')sendChat()">
      <button class="chat-send" onclick="sendChat()">Send ‚Üë</button>
    </div>
  </div>
</div>

</div><!-- /app -->

<!-- TOAST -->
<div class="toast" id="toast">
  <div class="t-icon" id="tIcon">‚úÖ</div>
  <div class="t-body"><div class="t-title" id="tTitle"></div><div class="t-sub" id="tSub"></div></div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DATA
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const PLAN=[{"week":1,"day":1,"date":"2026-02-21","phase":"SQL + Excel Foundation","topic":"SQL Basics: DBMS, RDBMS, Tables, Primary Key, SELECT syntax","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":1,"day":2,"date":"2026-02-22","phase":"SQL + Excel Foundation","topic":"WHERE clause, Operators (=, >, <, !=), Filtering practice","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":1,"day":3,"date":"2026-02-23","phase":"SQL + Excel Foundation","topic":"ORDER BY, LIMIT, DISTINCT, Aliases","done":"No","is_weekend":false,"weekday":"Monday"},{"week":1,"day":4,"date":"2026-02-24","phase":"SQL + Excel Foundation","topic":"AND, OR, NOT logical operators","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":1,"day":5,"date":"2026-02-25","phase":"SQL + Excel Foundation","topic":"IN, BETWEEN, LIKE with wildcards","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":1,"day":6,"date":"2026-02-26","phase":"SQL + Excel Foundation","topic":"Aggregate Functions: COUNT, SUM, AVG, MIN, MAX","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":1,"day":7,"date":"2026-02-27","phase":"SQL + Excel Foundation","topic":"GROUP BY concept with real examples","done":"No","is_weekend":false,"weekday":"Friday"},{"week":2,"day":8,"date":"2026-02-28","phase":"SQL + Excel Foundation","topic":"HAVING clause with aggregations","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":2,"day":9,"date":"2026-03-01","phase":"SQL + Excel Foundation","topic":"GROUP BY + HAVING practice set (20 problems)","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":2,"day":10,"date":"2026-03-02","phase":"SQL + Excel Foundation","topic":"INNER JOIN concept + syntax","done":"No","is_weekend":false,"weekday":"Monday"},{"week":2,"day":11,"date":"2026-03-03","phase":"SQL + Excel Foundation","topic":"LEFT JOIN & NULL handling","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":2,"day":12,"date":"2026-03-04","phase":"SQL + Excel Foundation","topic":"RIGHT JOIN & FULL JOIN concept","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":2,"day":13,"date":"2026-03-05","phase":"SQL + Excel Foundation","topic":"Multiple table JOIN practice","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":2,"day":14,"date":"2026-03-06","phase":"SQL + Excel Foundation","topic":"Self Join examples","done":"No","is_weekend":false,"weekday":"Friday"},{"week":3,"day":15,"date":"2026-03-07","phase":"SQL + Excel Foundation","topic":"Subqueries basics (single row)","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":3,"day":16,"date":"2026-03-08","phase":"SQL + Excel Foundation","topic":"Multi-row subqueries (IN, EXISTS)","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":3,"day":17,"date":"2026-03-09","phase":"SQL + Excel Foundation","topic":"Correlated subqueries","done":"No","is_weekend":false,"weekday":"Monday"},{"week":3,"day":18,"date":"2026-03-10","phase":"SQL + Excel Foundation","topic":"Subquery practice problems","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":3,"day":19,"date":"2026-03-11","phase":"SQL + Excel Foundation","topic":"Window Functions intro (OVER clause)","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":3,"day":20,"date":"2026-03-12","phase":"SQL + Excel Foundation","topic":"ROW_NUMBER(), RANK(), DENSE_RANK()","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":3,"day":21,"date":"2026-03-13","phase":"SQL + Excel Foundation","topic":"PARTITION BY + ORDER BY in windows","done":"No","is_weekend":false,"weekday":"Friday"},{"week":4,"day":22,"date":"2026-03-14","phase":"SQL + Excel Foundation","topic":"Window function practice problems","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":4,"day":23,"date":"2026-03-15","phase":"SQL + Excel Foundation","topic":"CASE statements (conditional logic)","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":4,"day":24,"date":"2026-03-16","phase":"SQL + Excel Foundation","topic":"Date functions (NOW, DATE_DIFF, EXTRACT)","done":"No","is_weekend":false,"weekday":"Monday"},{"week":4,"day":25,"date":"2026-03-17","phase":"SQL + Excel Foundation","topic":"String functions (UPPER, LOWER, SUBSTRING)","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":4,"day":26,"date":"2026-03-18","phase":"SQL + Excel Foundation","topic":"Indexes & Performance basics","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":4,"day":27,"date":"2026-03-19","phase":"SQL + Excel Foundation","topic":"Views & Stored Procedures overview","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":4,"day":28,"date":"2026-03-20","phase":"SQL + Excel Foundation","topic":"Constraints & Normalization basics","done":"No","is_weekend":false,"weekday":"Friday"},{"week":4,"day":29,"date":"2026-03-21","phase":"SQL + Excel Foundation","topic":"SQL Mock Test 1 (Interview level)","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":5,"day":30,"date":"2026-03-22","phase":"SQL + Excel Foundation","topic":"SQL Mock Test 2 + Weak area revision","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":5,"day":31,"date":"2026-03-23","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":false,"weekday":"Monday"},{"week":5,"day":32,"date":"2026-03-24","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":5,"day":33,"date":"2026-03-25","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":5,"day":34,"date":"2026-03-26","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":5,"day":35,"date":"2026-03-27","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":false,"weekday":"Friday"},{"week":6,"day":36,"date":"2026-03-28","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":6,"day":37,"date":"2026-03-29","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":6,"day":38,"date":"2026-03-30","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":false,"weekday":"Monday"},{"week":6,"day":39,"date":"2026-03-31","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":6,"day":40,"date":"2026-04-01","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":6,"day":41,"date":"2026-04-02","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":6,"day":42,"date":"2026-04-03","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":false,"weekday":"Friday"},{"week":6,"day":43,"date":"2026-04-04","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":6,"day":44,"date":"2026-04-05","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":6,"day":45,"date":"2026-04-06","phase":"Python + Pandas + Projects","topic":"Python Basics, Variables, Loops, Functions, Pandas Intro","done":"No","is_weekend":false,"weekday":"Monday"},{"week":7,"day":46,"date":"2026-04-07","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":7,"day":47,"date":"2026-04-08","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":7,"day":48,"date":"2026-04-09","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":7,"day":49,"date":"2026-04-10","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":false,"weekday":"Friday"},{"week":7,"day":50,"date":"2026-04-11","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":7,"day":51,"date":"2026-04-12","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":7,"day":52,"date":"2026-04-13","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":false,"weekday":"Monday"},{"week":7,"day":53,"date":"2026-04-14","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":8,"day":54,"date":"2026-04-15","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":8,"day":55,"date":"2026-04-16","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":8,"day":56,"date":"2026-04-17","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":false,"weekday":"Friday"},{"week":8,"day":57,"date":"2026-04-18","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":8,"day":58,"date":"2026-04-19","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":8,"day":59,"date":"2026-04-20","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":false,"weekday":"Monday"},{"week":8,"day":60,"date":"2026-04-21","phase":"Python + Pandas + Projects","topic":"Data Cleaning, EDA, Groupby, Merge, Mini Project Build","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":8,"day":61,"date":"2026-04-22","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":8,"day":62,"date":"2026-04-23","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":8,"day":63,"date":"2026-04-24","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":false,"weekday":"Friday"},{"week":8,"day":64,"date":"2026-04-25","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":8,"day":65,"date":"2026-04-26","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":8,"day":66,"date":"2026-04-27","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":false,"weekday":"Monday"},{"week":8,"day":67,"date":"2026-04-28","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":8,"day":68,"date":"2026-04-29","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":8,"day":69,"date":"2026-04-30","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":8,"day":70,"date":"2026-05-01","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":false,"weekday":"Friday"},{"week":8,"day":71,"date":"2026-05-02","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":8,"day":72,"date":"2026-05-03","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":8,"day":73,"date":"2026-05-04","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":false,"weekday":"Monday"},{"week":8,"day":74,"date":"2026-05-05","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":8,"day":75,"date":"2026-05-06","phase":"Power BI + Interview + Resume","topic":"Power BI: Data Modeling, DAX Basics, KPIs, Dashboards","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":8,"day":76,"date":"2026-05-07","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":8,"day":77,"date":"2026-05-08","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":false,"weekday":"Friday"},{"week":8,"day":78,"date":"2026-05-09","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":8,"day":79,"date":"2026-05-10","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":8,"day":80,"date":"2026-05-11","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":false,"weekday":"Monday"},{"week":8,"day":81,"date":"2026-05-12","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":8,"day":82,"date":"2026-05-13","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":8,"day":83,"date":"2026-05-14","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":false,"weekday":"Thursday"},{"week":8,"day":84,"date":"2026-05-15","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":false,"weekday":"Friday"},{"week":8,"day":85,"date":"2026-05-16","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":true,"weekday":"Saturday"},{"week":8,"day":86,"date":"2026-05-17","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":true,"weekday":"Sunday"},{"week":8,"day":87,"date":"2026-05-18","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":false,"weekday":"Monday"},{"week":8,"day":88,"date":"2026-05-19","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":false,"weekday":"Tuesday"},{"week":8,"day":89,"date":"2026-05-20","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":false,"weekday":"Wednesday"},{"week":8,"day":90,"date":"2026-05-21","phase":"Power BI + Interview + Resume","topic":"Mock Interviews, Case Studies, Resume Polishing, Applications","done":"No","is_weekend":false,"weekday":"Thursday"}];

const QUOTES=[
  "Discipline > Motivation. Show up every single day. üî•",
  "Small daily progress compounds into massive results. üìà",
  "Focus on skills ‚Äî the MNC offer will follow. üí∞",
  "Consistency beats intensity every single time. üí™",
  "Every SQL expert was once confused by JOINs. üå±",
  "Your future MNC offer is being built today. üéØ",
  "Data is the new oil ‚Äî you're learning to refine it. ‚ö°",
  "One query at a time. One day at a time. Keep going. üß†",
  "The pain of discipline is less than the pain of regret. üåü",
  "Sudarshan, you're building something great. Don't stop. üöÄ"
];

// QUIZ DATA
const QUIZ_QUESTIONS=[
  // Phase 1 - SQL
  {phase:'p1',q:"What does SELECT * FROM employees; return?",opts:["Only the first row","All columns and rows from employees","Only column names","An error"],ans:1,exp:"SELECT * returns ALL columns (*) and ALL rows from the specified table. It's the most basic SQL query."},
  {phase:'p1',q:"Which clause filters rows AFTER grouping?",opts:["WHERE","GROUP BY","HAVING","ORDER BY"],ans:2,exp:"HAVING filters groups created by GROUP BY. WHERE filters individual rows BEFORE grouping. Remember: WHERE ‚Üí GROUP BY ‚Üí HAVING."},
  {phase:'p1',q:"What is a PRIMARY KEY?",opts:["A key that can have NULL values","A unique identifier for each row","A foreign table reference","A duplicate row identifier"],ans:1,exp:"A PRIMARY KEY uniquely identifies each row in a table. It cannot be NULL and must be unique across all rows."},
  {phase:'p1',q:"Which JOIN returns all rows from left table even if no match?",opts:["INNER JOIN","RIGHT JOIN","LEFT JOIN","CROSS JOIN"],ans:2,exp:"LEFT JOIN returns ALL rows from the left table and matched rows from the right. Unmatched right-side rows become NULL."},
  {phase:'p1',q:"ROW_NUMBER() vs RANK() ‚Äî what's the difference?",opts:["They are identical","ROW_NUMBER gives unique numbers, RANK skips after ties","RANK is faster","ROW_NUMBER handles NULLs better"],ans:1,exp:"ROW_NUMBER() always gives consecutive unique numbers. RANK() gives the same rank to ties but skips the next number (1,2,2,4). DENSE_RANK() doesn't skip (1,2,2,3)."},
  {phase:'p1',q:"What does GROUP BY do?",opts:["Sorts the result","Groups rows with same values for aggregation","Filters NULL values","Joins two tables"],ans:1,exp:"GROUP BY groups rows that have the same values in specified columns. Used with aggregate functions like COUNT, SUM, AVG, MAX, MIN."},
  {phase:'p1',q:"Which function counts only non-NULL values?",opts:["COUNT(*)","COUNT(column_name)","SUM(1)","COALESCE"],ans:1,exp:"COUNT(column_name) counts only non-NULL values in that column. COUNT(*) counts all rows including those with NULLs."},
  // Phase 2 - Python
  {phase:'p2',q:"What does df.shape return in Pandas?",opts:["Column names","A tuple of (rows, columns)","Memory usage","Data types"],ans:1,exp:"df.shape returns a tuple (number_of_rows, number_of_columns). It's one of the first things to check when exploring a dataset."},
  {phase:'p2',q:"Which Pandas method removes duplicate rows?",opts:["df.unique()","df.drop_duplicates()","df.dedupe()","df.filter()"],ans:1,exp:"df.drop_duplicates() removes duplicate rows. You can specify columns with subset=['col1','col2'] to check duplicates based on specific columns."},
  {phase:'p2',q:"What does df.isnull().sum() do?",opts:["Counts total rows","Counts missing values per column","Fills missing values","Drops null rows"],ans:1,exp:"df.isnull() creates a boolean DataFrame (True=null, False=not null). .sum() then counts True values per column, showing missing value count."},
  {phase:'p2',q:"How to select rows where age > 25 in Pandas?",opts:["df.select(age>25)","df[df['age']>25]","df.where(age>25)","df.filter(age>25)"],ans:1,exp:"Boolean indexing: df[df['age']>25] creates a boolean mask and filters rows where the condition is True. This is the standard Pandas filtering method."},
  {phase:'p2',q:"What is EDA?",opts:["Error Detection Algorithm","Exploratory Data Analysis","External Data Access","Encoded Data Array"],ans:1,exp:"EDA = Exploratory Data Analysis. It's the process of visually and statistically exploring datasets to understand patterns, spot anomalies, and form hypotheses before modeling."},
  // Phase 3 - Power BI
  {phase:'p3',q:"What does DAX stand for?",opts:["Data Analysis Expressions","Database Access Extension","Dynamic Aggregation Excel","Data Axis Exchange"],ans:0,exp:"DAX = Data Analysis Expressions. It's a formula language used in Power BI, Excel Power Pivot, and SSAS for creating calculated columns, measures, and custom aggregations."},
  {phase:'p3',q:"What is a Slicer in Power BI?",opts:["A data cleaning tool","A visual filter on the report page","A DAX function","A data import method"],ans:1,exp:"A Slicer is a visual filter element on a Power BI report page. Users can click on slicer values to filter all other visuals on the page dynamically."},
  {phase:'p3',q:"What is a Measure in Power BI?",opts:["A physical ruler tool","A calculation that aggregates data dynamically","A fixed column value","A chart type"],ans:1,exp:"A Measure is a DAX formula that calculates results dynamically based on context (filters, slicers, rows). Unlike calculated columns, measures don't take up model storage."},
  {phase:'p3',q:"Which view shows table relationships in Power BI?",opts:["Report View","Data View","Model View","Query View"],ans:2,exp:"Model View (formerly Relationships View) shows all your tables and the relationships between them visually. You can drag to create or edit relationships here."},
];

// Q&A Bank
const QA=[
  {phase:'p1',q:"Explain the difference between WHERE and HAVING.",a:"WHERE filters individual rows before grouping. HAVING filters groups after GROUP BY. WHERE cannot use aggregate functions, HAVING can. Example: WHERE salary > 50000 vs HAVING AVG(salary) > 50000."},
  {phase:'p1',q:"What are Window Functions? Give an example.",a:"Window functions perform calculations across a set of rows related to the current row WITHOUT collapsing rows (unlike GROUP BY). Example: SELECT name, salary, RANK() OVER (PARTITION BY dept ORDER BY salary DESC) as rank FROM employees;"},
  {phase:'p1',q:"What is normalization? Name the normal forms.",a:"Normalization organizes data to reduce redundancy. 1NF: Atomic values, no repeating groups. 2NF: No partial dependencies. 3NF: No transitive dependencies. BCNF: Every determinant is a candidate key."},
  {phase:'p1',q:"Difference between INNER JOIN and LEFT JOIN?",a:"INNER JOIN returns only matching rows from both tables. LEFT JOIN returns ALL rows from the left table plus matched rows from right; unmatched right rows show NULL. Use LEFT JOIN to find records that DON'T have matches."},
  {phase:'p2',q:"What is the difference between loc and iloc in Pandas?",a:"loc uses label-based indexing (row/column names): df.loc[0,'name']. iloc uses integer position-based indexing: df.iloc[0,1]. loc is inclusive on both ends, iloc excludes the end index."},
  {phase:'p2',q:"How do you handle missing values in Python?",a:"1) df.isnull().sum() ‚Äî detect missing values. 2) df.dropna() ‚Äî remove rows with nulls. 3) df.fillna(value) ‚Äî fill with specific value. 4) df.fillna(df.mean()) ‚Äî fill with column mean. Choose based on data context and volume of missing values."},
  {phase:'p2',q:"What is the difference between merge and concat in Pandas?",a:"merge() combines DataFrames based on common columns/keys (like SQL JOIN). concat() stacks DataFrames vertically (rows) or horizontally (columns) without key-based matching. merge=JOIN, concat=UNION."},
  {phase:'p3',q:"What is the difference between a Calculated Column and a Measure?",a:"Calculated Column: Computed row-by-row, stored in model, uses ROW context. Measure: Computed dynamically based on filter context, not stored per row, more efficient for aggregations. Rule: Use measures for aggregations, calculated columns for row-level attributes."},
  {phase:'p3',q:"What is CALCULATE() in DAX?",a:"CALCULATE() evaluates an expression in a modified filter context. It's the most powerful DAX function. Syntax: CALCULATE(expression, filter1, filter2...). Example: CALCULATE(SUM(Sales[Amount]), Region[Name]='North') ‚Äî sums sales filtered to North region only."},
  {phase:'p3',q:"Explain Star Schema vs Snowflake Schema.",a:"Star Schema: Fact table at center surrounded by dimension tables (single join). Simple, fast queries. Snowflake Schema: Dimensions are further normalized into sub-dimensions (multiple joins). More complex but less storage. Power BI prefers Star Schema for performance."},
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const SK='mnc_tracker_v2';
let progress={};
let currentFilter='all';
let calViewDate=new Date();
let quizPhase='all',qaPhase='all';
let currentQIdx=0,quizCorrect=0,quizPool=[],quizAnswered=false;

function loadProg(){try{const s=localStorage.getItem(SK);if(s)progress=JSON.parse(s)}catch(e){progress={}}}
function saveProg(){try{localStorage.setItem(SK,JSON.stringify(progress))}catch(e){}}
function isDone(d){return progress[d]===true}
function toggleDay(d){
  const wasDone=isDone(d);
  progress[d]=!wasDone;saveProg();renderAll();
  if(!wasDone){showToast('‚úÖ','Day '+d+' Complete! üéâ','Keep the momentum going!');spawnConfetti()}
  else showToast('‚Ü©Ô∏è','Day '+d+' unmarked','Progress updated');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// NAVIGATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function goPage(id,btn){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  document.getElementById('page-'+id).classList.add('active');
  btn.classList.add('active');
  if(id==='quiz')renderQuiz();
  if(id==='chatbot')initChat();
}
function goToQuiz(){
  const btn=document.querySelectorAll('.nav-btn')[2];
  goPage('quiz',btn);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function getStats(){
  let done=0,p1=0,p2=0,p3=0;
  PLAN.forEach(p=>{
    if(isDone(p.day)){
      done++;
      if(p.phase==='SQL + Excel Foundation')p1++;
      else if(p.phase==='Python + Pandas + Projects')p2++;
      else p3++;
    }
  });
  const today=todayStr();
  let streak=0;
  const streakStart=new Date();
  for(let i=0;i<90;i++){
    const sd=new Date(streakStart);
    sd.setDate(sd.getDate()-i);
    const ds=sd.toISOString().split('T')[0];
    const e=PLAN.find(p=>p.date===ds);
    if(e&&isDone(e.day)){streak++;}
    else if(e){break;} // only break on plan days, skip non-plan dates
  }
  const todayEntry=PLAN.find(p=>p.date===today);
  const todayWeek=todayEntry?todayEntry.week:null;
  let wDone=0,wTotal=0;
  if(todayWeek)PLAN.filter(p=>p.week===todayWeek).forEach(p=>{wTotal++;if(isDone(p.day))wDone++});
  return{done,left:90-done,p1,p2,p3,streak,pct:Math.round(done/90*100),wDone,wTotal,wLeft:wTotal-wDone,wPct:wTotal?Math.round(wDone/wTotal*100):0,todayWeek};
}

function todayStr(){return new Date().toISOString().split('T')[0]}

function phaseClass(phase){
  if(phase==='SQL + Excel Foundation')return 'p1';
  if(phase==='Python + Pandas + Projects')return 'p2';
  return 'p3';
}
function phaseColor(phase){
  if(phase==='SQL + Excel Foundation')return 'var(--p1)';
  if(phase==='Python + Pandas + Projects')return 'var(--p2)';
  return 'var(--p3)';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RENDER ALL
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderAll(){
  const st=getStats();
  // Header
  document.getElementById('hStreak').textContent=st.streak;
  const now=new Date();
  document.getElementById('hDate').textContent=now.toLocaleDateString('en-IN',{weekday:'short',day:'numeric',month:'short'});
  const isWknd=now.getDay()===0||now.getDay()===6;
  document.getElementById('hWeekend').style.display=isWknd?'flex':'none';

  // KPIs
  setNum('kDone',st.done);setNum('kLeft',st.left);setNum('kStreak',st.streak);
  document.getElementById('kPct').textContent=st.pct+'%';

  // Progress bars
  document.getElementById('pb1c').textContent=st.p1+'/30';
  document.getElementById('pb2c').textContent=st.p2+'/30';
  document.getElementById('pb3c').textContent=st.p3+'/30';
  setTimeout(()=>{
    document.getElementById('pb1').style.width=(st.p1/30*100)+'%';
    document.getElementById('pb2').style.width=(st.p2/30*100)+'%';
    document.getElementById('pb3').style.width=(st.p3/30*100)+'%';
  },100);

  // Pie charts
  drawPie(st);
  drawWeeklyPie(st);

  // Today
  renderToday();
  // Heatmap
  renderHeatmap();
  // Calendar
  renderCal();
  // Plan
  renderPlan();
  // Plan badge
  document.getElementById('planBadge').textContent=st.done+'/90';
  // Quiz score
  document.getElementById('quizScoreDisplay').textContent='Score: '+quizCorrect;
}

function setNum(id,v){
  const el=document.getElementById(id);
  const cur=parseInt(el.textContent)||0;
  if(cur===v)return;
  const step=v>cur?1:-1;let x=cur;
  const iv=setInterval(()=>{x+=step;el.textContent=x;if(x===v)clearInterval(iv)},Math.max(8,250/Math.abs(v-cur)));
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PIE CHART
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function drawPie(st){
  const canvas=document.getElementById('pieChart');
  const ctx=canvas.getContext('2d');
  const W=canvas.width,H=canvas.height,cx=W/2,cy=H/2,r=W/2-6;
  ctx.clearRect(0,0,W,H);

  const data=[
    {v:st.p1,c:'#3b82f6'},{v:st.p2,c:'#22c55e'},{v:st.p3,c:'#a855f7'},{v:st.left,c:'#1a2535'}
  ];
  const total=90;
  let angle=-Math.PI/2;
  data.forEach(d=>{
    if(d.v<=0)return;
    const slice=(d.v/total)*Math.PI*2;
    ctx.beginPath();ctx.moveTo(cx,cy);
    ctx.arc(cx,cy,r,angle,angle+slice);
    ctx.closePath();ctx.fillStyle=d.c;ctx.fill();
    angle+=slice;
  });
  // Donut hole
  ctx.beginPath();ctx.arc(cx,cy,r*0.56,0,Math.PI*2);ctx.fillStyle='#111827';ctx.fill();

  document.getElementById('pieCenterVal').textContent=st.done;
  document.getElementById('pLegend1').textContent='Phase 1: '+st.p1+'/30';
  document.getElementById('pLegend2').textContent='Phase 2: '+st.p2+'/30';
  document.getElementById('pLegend3').textContent='Phase 3: '+st.p3+'/30';
  document.getElementById('pLegend4').textContent='Remaining: '+st.left;
}

function drawWeeklyPie(st){
  const canvas=document.getElementById('weeklyPie');
  const ctx=canvas.getContext('2d');
  const W=canvas.width,H=canvas.height,cx=W/2,cy=H/2,r=W/2-5;
  ctx.clearRect(0,0,W,H);
  const done=st.wDone,left=st.wLeft,total=st.wTotal||1;
  const a=-Math.PI/2;
  if(done>0){
    ctx.beginPath();ctx.moveTo(cx,cy);ctx.arc(cx,cy,r,a,a+(done/total)*Math.PI*2);ctx.closePath();ctx.fillStyle='#22c55e';ctx.fill();
  }
  if(left>0){
    ctx.beginPath();ctx.moveTo(cx,cy);ctx.arc(cx,cy,r,a+(done/total)*Math.PI*2,a+Math.PI*2);ctx.closePath();ctx.fillStyle='#1a2535';ctx.fill();
  }
  ctx.beginPath();ctx.arc(cx,cy,r*0.55,0,Math.PI*2);ctx.fillStyle='#111827';ctx.fill();

  document.getElementById('wPieVal').textContent=st.wDone;
  document.getElementById('wPieWeek').textContent=st.todayWeek||'‚Äî';
  document.getElementById('wPieDone').textContent=st.wDone+' done';
  document.getElementById('wPieLeft').textContent=st.wLeft+' pending';
  document.getElementById('wPiePct').textContent=st.wPct+'% weekly done';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TODAY CARD
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderToday(){
  const today=todayStr();
  const entry=PLAN.find(p=>p.date===today);
  const tc=document.getElementById('todayCard');

  if(!entry){
    document.getElementById('todayTopic').textContent='üéâ No scheduled task today ‚Äî rest or review!';
    document.getElementById('todayChips').innerHTML='';
    document.getElementById('todayActions').innerHTML='';
    return;
  }

  if(entry.is_weekend){
    tc.style.background='linear-gradient(135deg,rgba(239,68,68,.08),rgba(249,115,22,.06))';
    tc.style.borderColor='rgba(239,68,68,.25)';
  } else {
    tc.style.background='';tc.style.borderColor='';
  }

  document.getElementById('todayTopic').textContent=entry.topic;
  document.getElementById('todayChips').innerHTML=`
    <div class="chip">üìÖ ${entry.date}</div>
    <div class="chip">üóìÔ∏è Day ${entry.day} of 90</div>
    <div class="chip" style="color:${phaseColor(entry.phase)}">${entry.phase}</div>
    <div class="chip">üìÜ ${entry.weekday}</div>
    ${entry.is_weekend?'<div class="weekend-badge">üèñÔ∏è Weekend ‚Äî Optional Rest Day</div>':''}
  `;

  const acts=document.getElementById('todayActions');
  if(isDone(entry.day)){
    acts.innerHTML=`<div style="color:var(--green);font-weight:700;font-size:14px;display:flex;align-items:center;gap:8px">‚úÖ Completed! Amazing work, Sudarshan! <button class="btn btn-ghost" onclick="toggleDay(${entry.day})" style="margin-left:8px;font-size:12px">Undo</button></div>`;
  } else {
    acts.innerHTML=`<button class="btn btn-green" onclick="toggleDay(${entry.day})">‚úÖ Mark as Done</button><button class="btn btn-ghost" onclick="goToQuiz()">üß† Take Quiz</button>`;
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// HEATMAP
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderHeatmap(){
  const table=document.getElementById('hmTable');
  table.innerHTML='';
  const today=todayStr();

  // Group by week
  const weeks={};
  PLAN.forEach(p=>{if(!weeks[p.week])weeks[p.week]=[];weeks[p.week].push(p)});

  // Header row
  const headRow=document.createElement('tr');
  Object.keys(weeks).sort((a,b)=>+a-+b).forEach(wk=>{
    const th=document.createElement('td');
    th.className='hm-week-lbl';th.textContent='W'+wk;
    headRow.appendChild(th);
  });
  table.appendChild(headRow);

  // Day rows (max 7 rows per week)
  for(let row=0;row<7;row++){
    const tr=document.createElement('tr');
    Object.keys(weeks).sort((a,b)=>+a-+b).forEach(wk=>{
      const day=weeks[wk][row];
      const td=document.createElement('td');
      if(!day){td.innerHTML='<div style="width:28px;height:28px"></div>';tr.appendChild(td);return;}
      const pc=phaseClass(day.phase);
      let cls='hm-cell ';
      if(isDone(day.day))cls+='hm-done-'+pc;
      else if(day.is_weekend)cls+='hm-weekend';
      else cls+='hm-pending';
      if(day.date===today)cls+=' hm-today';
      const wkndNote=day.is_weekend?'<div class="tip-wknd">üèñÔ∏è Weekend</div>':'';
      const cell = document.createElement('div');
      cell.className = cls;
      cell.dataset.day = day.day;
      cell.dataset.weekday = day.weekday;
      cell.dataset.topic = day.topic.replace(/"/g,'&quot;');
      cell.dataset.weekend = day.is_weekend;
      cell.onclick = () => toggleDay(day.day);
      cell.addEventListener('mouseenter', showHmTooltip);
      cell.addEventListener('mouseleave', hideHmTooltip);
      td.appendChild(cell);
      tr.appendChild(td);
    });
    table.appendChild(tr);
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// HEATMAP TOOLTIP (JS-positioned, no clipping)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let hmTipEl = null;
function showHmTooltip(e){
  const cell = e.currentTarget;
  const dayNum = cell.dataset.day;
  const entry = PLAN.find(p=>p.day==dayNum);
  if(!entry) return;
  if(!hmTipEl){
    hmTipEl = document.createElement('div');
    hmTipEl.className = 'tip';
    document.body.appendChild(hmTipEl);
  }
  const wkndNote = entry.is_weekend ? '<div class="tip-wknd">üèñÔ∏è Weekend</div>' : '';
  hmTipEl.innerHTML = '<div class="tip-d">Day '+entry.day+' ¬∑ '+entry.weekday+'</div>' +
    '<div class="tip-t">'+entry.topic+'</div>' + wkndNote +
    '<div class="'+(isDone(entry.day)?'tip-done':'tip-pend')+'">'+(isDone(entry.day)?'‚úÖ Done':'‚è≥ Pending')+'</div>';
  const rect = cell.getBoundingClientRect();
  hmTipEl.style.display = 'block';
  hmTipEl.style.opacity = '1';
  // Position: try above first, fall back to below
  const tipH = 90;
  const top = rect.top > tipH + 12 ? rect.top - tipH - 8 : rect.bottom + 8;
  let left = rect.left + rect.width/2 - 90;
  left = Math.max(8, Math.min(left, window.innerWidth - 200));
  hmTipEl.style.top = top + window.scrollY + 'px';
  hmTipEl.style.left = left + 'px';
}
function hideHmTooltip(){
  if(hmTipEl){ hmTipEl.style.display='none'; hmTipEl.style.opacity='0'; }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DAY PLAN LIST
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function setFilter(f,btn){
  currentFilter=f;
  document.querySelectorAll('.fp').forEach(b=>b.classList.remove('fp-on'));
  btn.classList.add('fp-on');
  renderPlan();
}

function renderPlan(){
  const list=document.getElementById('dayList');
  list.innerHTML='';
  const today=todayStr();
  let filtered=PLAN;
  if(currentFilter==='p1')filtered=PLAN.filter(p=>p.phase==='SQL + Excel Foundation');
  else if(currentFilter==='p2')filtered=PLAN.filter(p=>p.phase==='Python + Pandas + Projects');
  else if(currentFilter==='p3')filtered=PLAN.filter(p=>p.phase==='Power BI + Interview + Resume');
  else if(currentFilter==='done')filtered=PLAN.filter(p=>isDone(p.day));
  else if(currentFilter==='pending')filtered=PLAN.filter(p=>!isDone(p.day));
  else if(currentFilter==='weekdays')filtered=PLAN.filter(p=>!p.is_weekend);
  else if(currentFilter==='weekends')filtered=PLAN.filter(p=>p.is_weekend);

  let lastWeek=null;
  filtered.forEach((p,i)=>{
    if(p.week!==lastWeek){
      lastWeek=p.week;
      const sep=document.createElement('div');
      sep.className='week-sep';
      sep.innerHTML=`<div class="ws-line"></div><div class="ws-lbl">WEEK ${p.week}</div><div class="ws-line"></div>`;
      list.appendChild(sep);
    }
    const row=document.createElement('div');
    const pc=phaseClass(p.phase);
    const dotColor=isDone(p.day)?'var(--green)':`var(--${pc==='p1'?'p1':pc==='p2'?'p2':'p3'})`;
    row.className='day-row'+(isDone(p.day)?' dr-done':'')+(p.date===today?' dr-today':'')+(p.is_weekend?' dr-weekend':'');
    row.style.animationDelay=(i*8)+'ms';
    row.innerHTML=`
      <div class="dr-num">${String(p.day).padStart(2,'0')}</div>
      <div class="dr-dot" style="background:${dotColor};box-shadow:0 0 5px ${dotColor}"></div>
      <div class="dr-info">
        <div class="dr-topic">${p.topic}</div>
        <div class="dr-meta">${p.date} ¬∑ ${p.weekday} ¬∑ ${p.phase.split(' + ')[0]}</div>
      </div>
      ${p.is_weekend?'<div class="dr-wknd-tag">Weekend</div>':''}
      <div class="dr-check" onclick="event.stopPropagation();toggleDay(${p.day})">${isDone(p.day)?'‚úì':''}</div>
    `;
    row.onclick=()=>toggleDay(p.day);
    list.appendChild(row);
  });
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MINI CALENDAR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function calPrev(){calViewDate=new Date(calViewDate.getFullYear(),calViewDate.getMonth()-1,1);renderCal()}
function calNext(){calViewDate=new Date(calViewDate.getFullYear(),calViewDate.getMonth()+1,1);renderCal()}
function renderCal(){
  const yr=calViewDate.getFullYear(),mo=calViewDate.getMonth();
  document.getElementById('calTitle').textContent=new Date(yr,mo,1).toLocaleDateString('en-IN',{month:'long',year:'numeric'});
  const firstDay=new Date(yr,mo,1).getDay();
  const daysInMonth=new Date(yr,mo+1,0).getDate();
  const today=todayStr();
  const grid=document.getElementById('calDays');
  grid.innerHTML='';
  for(let i=0;i<firstDay;i++){const d=document.createElement('div');grid.appendChild(d);}
  for(let day=1;day<=daysInMonth;day++){
    const dateStr=`${yr}-${String(mo+1).padStart(2,'0')}-${String(day).padStart(2,'0')}`;
    const planEntry=PLAN.find(p=>p.date===dateStr);
    const d=document.createElement('div');d.className='mc-day';d.textContent=day;
    const dow=new Date(yr,mo,day).getDay();
    if(dow===0||dow===6)d.classList.add('mc-weekend');
    if(planEntry){d.classList.add('mc-in-plan');if(isDone(planEntry.day))d.classList.add('mc-done');}
    if(dateStr===today)d.classList.add('mc-today');
    if(planEntry)d.onclick=()=>toggleDay(planEntry.day);
    grid.appendChild(d);
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// QUIZ
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function setQuizPhase(ph,btn){
  quizPhase=ph;
  document.querySelectorAll('.quiz-phase-select:first-of-type .qps-btn').forEach(b=>b.classList.remove('qps-on'));
  btn.classList.add('qps-on');
  restartQuiz();
}

function restartQuiz(){
  let pool=quizPhase==='all'?[...QUIZ_QUESTIONS]:QUIZ_QUESTIONS.filter(q=>q.phase===quizPhase);
  pool=pool.sort(()=>Math.random()-.5).slice(0,Math.min(10,pool.length));
  quizPool=pool;currentQIdx=0;quizCorrect=0;quizAnswered=false;
  document.getElementById('quizCard').style.display='';
  document.getElementById('quizSummary').style.display='none';
  renderQuestion();
}

function renderQuestion(){
  if(currentQIdx>=quizPool.length){showSummary();return;}
  const q=quizPool[currentQIdx];
  const total=quizPool.length;
  document.getElementById('qNum').textContent=`Question ${currentQIdx+1} of ${total}`;
  document.getElementById('qScore').textContent=`‚úì ${quizCorrect} correct`;
  document.getElementById('qProgFill').style.width=(currentQIdx/total*100)+'%';
  document.getElementById('qText').textContent=q.q;
  document.getElementById('qExplain').style.display='none';
  document.getElementById('qMsg').textContent='';
  document.getElementById('qNextBtn').style.display='none';
  quizAnswered=false;
  const optsEl=document.getElementById('qOpts');
  optsEl.innerHTML='';
  q.opts.forEach((opt,i)=>{
    const btn=document.createElement('button');
    btn.className='q-opt';btn.textContent=opt;
    btn.onclick=()=>answerQuiz(i,q,btn);
    optsEl.appendChild(btn);
  });
}

function answerQuiz(chosen,q,clickedBtn){
  if(quizAnswered)return;
  quizAnswered=true;
  const opts=document.querySelectorAll('.q-opt');
  opts.forEach(b=>b.classList.add('q-locked'));
  opts[q.ans].classList.add('q-correct');
  const msg=document.getElementById('qMsg');
  if(chosen===q.ans){
    quizCorrect++;clickedBtn.classList.add('q-correct');
    msg.textContent='üéâ Correct!';msg.className='q-result-msg correct';
  } else {
    clickedBtn.classList.add('q-wrong');
    msg.textContent='‚ùå Incorrect';msg.className='q-result-msg wrong';
  }
  document.getElementById('qExplain').textContent='üí° '+q.exp;
  document.getElementById('qExplain').style.display='';
  document.getElementById('qNextBtn').style.display='';
  document.getElementById('qScore').textContent=`‚úì ${quizCorrect} correct`;
  document.getElementById('quizScoreDisplay').textContent='Score: '+quizCorrect;
}

function nextQuestion(){currentQIdx++;renderQuestion();}

function showSummary(){
  document.getElementById('quizCard').style.display='none';
  const s=document.getElementById('quizSummary');s.style.display='';
  const pct=Math.round(quizCorrect/quizPool.length*100);
  document.getElementById('qsFinalScore').textContent=quizCorrect+'/'+quizPool.length;
  let lbl=pct>=80?'üèÜ Excellent! You\'re MNC-ready!':pct>=60?'üëç Good job! Keep practicing.':'üìö Keep studying ‚Äî you\'ve got this!';
  document.getElementById('qsLabel').textContent=lbl+' ('+pct+'%)';
}

function setQAPhase(ph,btn){
  qaPhase=ph;
  document.querySelectorAll('#qaBtnGroup .qps-btn').forEach(b=>b.classList.remove('qps-on'));
  btn.classList.add('qps-on');
  renderQA();
}

function renderQA(){
  const list=document.getElementById('qaList');
  list.innerHTML='';
  const filtered=qaPhase==='all'?QA:QA.filter(q=>q.phase===qaPhase);
  filtered.forEach((item,i)=>{
    const div=document.createElement('div');
    div.style.cssText='background:var(--card2);border:1px solid var(--border);border-radius:8px;overflow:hidden';
    div.innerHTML=`
      <div onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display==='none'?'':'none'" style="padding:12px 16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;font-size:13px;font-weight:600">
        <span>Q${i+1}. ${item.q}</span><span style="color:var(--muted);font-size:16px;transition:.2s">‚Ä∫</span>
      </div>
      <div style="display:none;padding:12px 16px 14px;font-size:12px;color:var(--dim);line-height:1.7;border-top:1px solid var(--border);background:var(--surface)">
        ${item.a}
      </div>
    `;
    list.appendChild(div);
  });
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CHATBOT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let chatInit=false;
function initChat(){
  if(chatInit)return;chatInit=true;
  addMsg('bot','üëã Hey Sudarshan! I\'m your AI Mentor. I know your full 90-day plan, your progress, and I\'m here to help you crack that MNC Data Analyst role! üöÄ\n\nAsk me anything ‚Äî study tips, concept explanations, motivation, or anything about SQL, Python, or Power BI!');
}

function quickMsg(btn){
  document.getElementById('chatInput').value=btn.textContent;
  sendChat();
}

function addMsg(role,text){
  const msgs=document.getElementById('chatMsgs');
  const div=document.createElement('div');
  div.className='msg '+role;
  const av=document.createElement('div');
  av.className='msg-avatar '+(role==='bot'?'bot-av':'user-av');
  av.textContent=role==='bot'?'ü§ñ':'S';
  const bubble=document.createElement('div');
  bubble.className='msg-bubble';
  bubble.innerHTML=text.replace(/\n/g,'<br>').replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>').replace(/`(.*?)`/g,'<span class="tag">$1</span>');
  div.appendChild(av);div.appendChild(bubble);
  msgs.appendChild(div);
  msgs.scrollTop=msgs.scrollHeight;
}

function showTyping(){
  const msgs=document.getElementById('chatMsgs');
  const div=document.createElement('div');
  div.className='msg bot';div.id='typing';
  div.innerHTML='<div class="msg-avatar bot-av">ü§ñ</div><div class="msg-bubble"><div class="typing-dot"><span></span><span></span><span></span></div></div>';
  msgs.appendChild(div);msgs.scrollTop=msgs.scrollHeight;
}
function hideTyping(){const t=document.getElementById('typing');if(t)t.remove();}

function getBotReply(msg){
  const st=getStats();
  const m=msg.toLowerCase();
  const today=todayStr();
  const todayE=PLAN.find(p=>p.date===today);

  if(m.includes('progress')||m.includes('done')||m.includes('how am i')){
    return `üìä **Your Progress Report:**\n\n‚úÖ Completed: **${st.done}/90 days** (${st.pct}%)\nüî• Streak: **${st.streak} days**\n‚è≥ Remaining: **${st.left} days**\n\nüìà Phase Breakdown:\n‚Ä¢ Phase 1 (SQL+Excel): **${st.p1}/30**\n‚Ä¢ Phase 2 (Python): **${st.p2}/30**\n‚Ä¢ Phase 3 (Power BI): **${st.p3}/30**\n\n${st.done===0?'You\'re just starting ‚Äî let\'s go! üöÄ':st.pct>=80?'Incredible! You\'re almost there! üèÜ':st.pct>=50?'Halfway there! Keep the momentum! üí™':'Great start! Consistency is key! üî•'}`;
  }
  if(m.includes('today')||m.includes('what should i study')){
    if(todayE){
      const wkndNote=todayE.is_weekend?'\n\nüèñÔ∏è **Today is a weekend** ‚Äî this is your optional rest/review day. Use it to consolidate what you learned this week!':'';
      return `üìå **Today's Task (Day ${todayE.day}):**\n\n**${todayE.topic}**\n\nPhase: ${todayE.phase}\nDate: ${todayE.date} (${todayE.weekday})${wkndNote}\n\n${isDone(todayE.day)?'‚úÖ Already marked done! Great work!':'üí° Tip: Study for at least 2 hours. Take breaks every 45 mins using the Pomodoro technique.'}`;
    }
    return "Today's date isn't in the plan range. Check the Day Plan tab!";
  }
  if(m.includes('sql')||m.includes('join')||m.includes('query')){
    return `‚ö° **SQL Tips for MNC Interviews:**\n\n1. **JOINs** ‚Äî Master all types. INNER, LEFT, RIGHT, FULL, SELF, CROSS. Most interviews have JOIN questions!\n\n2. **Window Functions** ‚Äî ROW_NUMBER(), RANK(), DENSE_RANK(), LAG(), LEAD() ‚Äî these are advanced and impress interviewers!\n\n3. **GROUP BY + HAVING** ‚Äî Remember: WHERE filters rows, HAVING filters groups.\n\n4. **Subqueries vs CTEs** ‚Äî Know when to use WITH clause for readability.\n\n5. **Practice sites**: LeetCode SQL, HackerRank SQL, Mode Analytics\n\nüí° Most asked: Find Nth highest salary, Duplicate detection, Running totals!`;
  }
  if(m.includes('python')||m.includes('pandas')||m.includes('eda')){
    return `üêç **Python/Pandas Tips:**\n\n1. **EDA Checklist**: df.shape, df.info(), df.describe(), df.isnull().sum(), df.value_counts()\n\n2. **Cleaning**: drop_duplicates(), fillna(), dropna(), astype()\n\n3. **Groupby**: df.groupby('col').agg({'salary':'mean','age':'max'})\n\n4. **Merge types**: left, right, inner, outer ‚Äî same as SQL JOINs!\n\n5. **Must know**: apply(), lambda, list comprehensions, pivot_table()\n\nüéØ Build at least 2 portfolio projects: Sales Analysis + Customer Segmentation`;
  }
  if(m.includes('power bi')||m.includes('dax')||m.includes('dashboard')){
    return `üìä **Power BI Tips:**\n\n1. **Star Schema** ‚Äî Always prefer star schema over snowflake in Power BI for performance!\n\n2. **DAX Essentials**: CALCULATE(), SUMX(), DIVIDE(), RELATED(), FILTER(), ALL()\n\n3. **Measures > Calculated Columns** ‚Äî Measures are dynamic, don't bloat your model!\n\n4. CALCULATE() is king ‚Äî it modifies filter context. Master this first.\n\n5. **Visuals**: Bar chart, Line chart, Card, Matrix, Slicer, Map\n\nüéØ Build: Sales Dashboard with KPIs, slicers, drillthrough pages`;
  }
  if(m.includes('motivat')||m.includes('tired')||m.includes('give up')||m.includes('hard')){
    const quotes=['Sudarshan, every MNC employee you admire felt exactly like you do right now. They kept going anyway. üî•','The Data Analyst role that\'s waiting for you is worth every hard day. Don\'t quit. üí™','Remember why you started. That MNC offer letter has your name on it. Keep going! üöÄ','Hard days are not wasted days. Your brain is building deep connections. Trust the process. üß†'];
    return 'üí™ **Hey, I see you! Here\'s what you need to hear:**\n\n'+quotes[Math.floor(Math.random()*quotes.length)]+'\n\nüìä You\'ve already completed **'+st.done+' of 90 days**. That\'s real work. Real progress. Don\'t stop now!';
  }
  if(m.includes('interview')||m.includes('mnc')||m.includes('job')||m.includes('resume')){
    return `üéØ **MNC Interview Preparation Tips:**\n\n**Round 1 ‚Äî Aptitude/Online Test:**\n‚Ä¢ SQL queries (JOINs, aggregations, window functions)\n‚Ä¢ Python basics + Pandas\n‚Ä¢ Logical & analytical reasoning\n\n**Round 2 ‚Äî Technical:**\n‚Ä¢ "Tell me about a data project you've done"\n‚Ä¢ SQL puzzles (Nth salary, duplicates, running total)\n‚Ä¢ Case study: analyze a dataset\n\n**Round 3 ‚Äî HR:**\n‚Ä¢ Why Data Analytics?\n‚Ä¢ Where do you see yourself in 5 years?\n‚Ä¢ Salary negotiation\n\nüìù **Resume Tips:**\n‚Ä¢ Add 2-3 project bullet points with metrics\n‚Ä¢ Use keywords: SQL, Python, Power BI, EDA, DAX\n‚Ä¢ Quantify achievements: "Reduced report time by 40%"`;
  }
  if(m.includes('weekend')||m.includes('holiday')||m.includes('rest')){
    return `üèñÔ∏è **Weekend Strategy:**\n\nWeekends in your 90-day plan are **optional rest days**, but here's how to use them wisely:\n\n‚úÖ **Option 1 ‚Äî Light Review**: Revisit the week's toughest topics (30-60 mins)\n‚úÖ **Option 2 ‚Äî Practice**: Solve 5-10 SQL problems on LeetCode/HackerRank\n‚úÖ **Option 3 ‚Äî Build**: Work on your portfolio project\n‚úÖ **Option 4 ‚Äî Full Rest**: Completely recharge ‚Äî rest is part of learning!\n\nüí° **Studies show** spaced repetition on weekends improves retention by 40%. Even 30 mins helps!\n\nYour call, Sudarshan. You know what you need! üôå`;
  }
  // Default
  const dayNum=st.done+1;
  return `Great question! As your AI mentor, here's my take:\n\nYou're on Day ${dayNum} of your journey. With ${st.left} days left and ${st.streak} day streak, you're building something real.\n\nüí° For your current phase, focus on **consistency over perfection**. Study 2-3 hours daily, solve practice problems, and build at least one project.\n\nIs there a specific topic ‚Äî SQL, Python, Power BI, or interview prep ‚Äî you'd like to dive deeper into? Ask me anything! üöÄ`;
}

function sendChat(){
  const input=document.getElementById('chatInput');
  const msg=input.value.trim();
  if(!msg)return;
  addMsg('user',msg);input.value='';
  showTyping();
  setTimeout(()=>{hideTyping();addMsg('bot',getBotReply(msg));},700+Math.random()*600);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TOAST + CONFETTI
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let toastT;
function showToast(icon,title,sub){
  const t=document.getElementById('toast');
  document.getElementById('tIcon').textContent=icon;
  document.getElementById('tTitle').textContent=title;
  document.getElementById('tSub').textContent=sub;
  t.classList.add('show','t-green');
  clearTimeout(toastT);toastT=setTimeout(()=>t.classList.remove('show','t-green'),3000);
}
function spawnConfetti(){
  const c=['#3b82f6','#22c55e','#a855f7','#f97316','#eab308','#ec4899','#fff'];
  for(let i=0;i<45;i++){
    const p=document.createElement('div');p.className='cf';
    p.style.cssText=`left:${Math.random()*100}vw;width:${3+Math.random()*7}px;height:${8+Math.random()*10}px;background:${c[Math.floor(Math.random()*c.length)]};animation-duration:${2+Math.random()*2}s;animation-delay:${Math.random()*0.4}s;transform:rotate(${Math.random()*360}deg)`;
    document.body.appendChild(p);setTimeout(()=>p.remove(),4000);
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// QUOTE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function setQuote(){
  const d=new Date();const idx=(d.getDate()+d.getMonth())%QUOTES.length;
  document.getElementById('quoteText').textContent=QUOTES[idx];
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INIT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
loadProg();
setQuote();
calViewDate=new Date();
renderAll();
renderQA();
restartQuiz();
</script>
</body>
</html>
